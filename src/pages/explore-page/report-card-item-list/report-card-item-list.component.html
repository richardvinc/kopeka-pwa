@if(report) {
<div class="w-full rounded shadow-lg mb-4 relative">
  @if (report.reported_by.id === userId) {
  <div class="absolute top-2 right-2 flex flex-col items-end">
    <button
      (click)="showDropdownMenu = !showDropdownMenu"
      class="flex rounded-lg text-sm p-1.5"
      type="button"
    >
      <span class="sr-only">Open dropdown</span>
      <svg
        class="w-5 h-5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="currentColor"
        viewBox="0 0 16 3"
      >
        <path
          d="M2 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm6.041 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM14 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z"
        />
      </svg>
    </button>
    <!-- Dropdown menu -->
    <div
      id="dropdown"
      [hidden]="!showDropdownMenu"
      class="z-10 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow w-44"
    >
      <ul class="py-2" aria-labelledby="dropdownButton">
        <li
          class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
          (click)="deleteReport(report.id)"
        >
          Delete
        </li>
      </ul>
    </div>
  </div>
  }
  <img
    class="w-full h-64 object-fill"
    [src]="report.image_url"
    alt="image of reported pedestrian facility"
    (click)="goToReportDetail(report.id)"
  />
  <div class="px-6 pt-4 pb-2" (click)="goToReportDetail(report.id)">
    <div class="flex flex-column mb-2">
      <p class="flex-shrink text-gray-400 text-sm">
        {{ report.created_at | fromNow }}
      </p>
    </div>
    <p class="text-gray-700 text-lg">
      {{ report.category | categoryHashtag }}
      <span
        class="ml-1 px-2 py-1 rounded-full text-xs font-bold"
        [ngClass]="{
          'bg-green-200 text-green-800': report.condition === 'GOOD',
          'bg-red-200 text-red-800': report.condition === 'BAD'
        }"
        >Kondisi {{ report.condition === "GOOD" ? "baik" : "buruk" }}</span
      >
    </p>
    <p class="text-gray-500 text-base">
      dilaporkan oleh:
      {{
        report.reported_by.id === userId ? "kamu" : report.reported_by.username
      }}
    </p>
  </div>
  <div class="px-4 pt-2 pb-2 text-right">
    <span class="inline-block mr-2 mb-2"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-8 h-8 z-50"
        (click)="reactToReport(report.id)"
        [ngClass]="{ 'fill-red-400': report.is_reacted }"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"
        />
      </svg>
    </span>
  </div>
</div>
}
